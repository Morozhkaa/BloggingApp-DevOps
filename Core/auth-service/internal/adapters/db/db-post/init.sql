SELECT 'CREATE DATABASE post' WHERE NOT EXISTS (SELECT FROM pg_database WHERE datname = 'post')\gexec
\c post;

CREATE TABLE authors (
    email TEXT PRIMARY KEY,
    login TEXT NOT NULL
);

CREATE TABLE posts (
    title TEXT NOT NULL,
    description TEXT NOT NULL,
    content TEXT NOT NULL,
    created_at timestamp NOT NULL DEFAULT NOW(),
    updated_at timestamp NOT NULL DEFAULT NOW(),
    post_id VARCHAR(36) PRIMARY KEY,
    auth_email VARCHAR(36) NOT NULL,
    FOREIGN KEY (auth_email) REFERENCES authors(email) ON DELETE CASCADE
);

CREATE TABLE commenters (
    email TEXT PRIMARY KEY,
    login TEXT NOT NULL
);

CREATE TABLE comments (
    text TEXT NOT NULL,
    created_at timestamp NOT NULL DEFAULT NOW(),
    updated_at timestamp NOT NULL DEFAULT NOW(),
    comment_id VARCHAR(36) PRIMARY KEY,
    post_id VARCHAR(36) NOT NULL,
    commenter_email VARCHAR(36) NOT NULL,
    FOREIGN KEY (post_id) REFERENCES posts(post_id) ON DELETE CASCADE,
    FOREIGN KEY (commenter_email) REFERENCES commenters(email) ON DELETE CASCADE
);

INSERT INTO authors (email, login)
VALUES (
    'Olenka@mail.ru',
    'Olenka'
);

INSERT INTO posts (title, description, content, post_id, auth_email)
VALUES (
    '–ü–∏–Ω–≥–≤–∏–Ω—ã-–≥–∏–≥–∞–Ω—Ç—ã',
    '–†–∞–Ω—å—à–µ –Ω–∞ –ø–ª–∞–Ω–µ—Ç–µ –æ–±–∏—Ç–∞–ª–∏ –ø–∏–Ω–≥–≤–∏–Ω—ã-–≥–∏–≥–∞–Ω—Ç—ã',
    '–ü–∏–Ω–≥–≤–∏–Ω—ã ‚Äî –∑–∞–±–∞–≤–Ω—ã–µ –º–æ—Ä—Å–∫–∏–µ –ø—Ç–∏—Ü—ã, –ª–∏—à–µ–Ω–Ω—ã–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –ª–µ—Ç–∞—Ç—å, –Ω–æ –∑–∞—Ç–æ –æ—Ç–ª–∏—á–Ω–æ —É–º–µ—é—â–∏–µ –ø–ª–∞–≤–∞—Ç—å. –ù–∞–≤–µ—Ä–Ω—è–∫–∞ –º–Ω–æ–≥–∏–µ –∏–∑ –Ω–∞—Å –≤–∏–¥–µ–ª–∏, –∫–∞–∫ –Ω–µ–ª–µ–ø–æ —ç—Ç–∏ –∂–∏–≤–æ—Ç–Ω—ã–µ –ø–µ—Ä–µ–¥–≤–∏–≥–∞—é—Ç—Å—è –ø–æ —Å—É—à–µ –∏–ª–∏ –ø–æ—Å–∫–∞–ª—å–∑—ã–≤–∞—é—Ç—Å—è –Ω–∞ –ª—å–¥—É. –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–∏–Ω–≥–≤–∏–Ω—ã —Ä–µ–¥–∫–æ –ø—Ä–µ–≤—ã—à–∞—é—Ç –º–µ—Ç—Ä –≤ –¥–ª–∏–Ω—É –∏ –∫–∞–∂—É—Ç—Å—è –¥–æ–≤–æ–ª—å–Ω–æ –±–µ–∑–æ–±–∏–¥–Ω—ã–º–∏ –¥–ª—è —á–µ–ª–æ–≤–µ–∫–∞ –∑–≤–µ—Ä—è–º–∏. –ù–æ –æ—Ç–Ω–æ—Å–∏–ª–∏—Å—å –±—ã –º—ã –∫ –Ω–∏–º —Ç–∞–∫ –∂–µ, –µ—Å–ª–∏ –±—ã —Ä–æ—Å—Ç —Å—Ä–µ–¥–Ω–µ—Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–∏–Ω–≥–≤–∏–Ω–∞ –ø—Ä–µ–≤–æ—Å—Ö–æ–¥–∏–ª —á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–π, –∞ –º–∞—Å—Å–∞ –∫–æ–ª–µ–±–∞–ª–∞—Å—å –±—ã —É –æ—Ç–º–µ—Ç–∫–∏ –≤ 100 –∫–≥? –ü–æ —Å–ª–æ–≤–∞–º –∞—Ä—Ö–µ–æ–ª–æ–≥–æ–≤, –∏–º–µ–Ω–Ω–æ —Ç–∞–∫–∏–µ –ø–∏–Ω–≥–≤–∏–Ω—ã-–≥–∏–≥–∞–Ω—Ç—ã –æ–±–∏—Ç–∞–ª–∏ —Ä–∞–Ω—å—à–µ –Ω–∞ –Ω–∞—à–µ–π –ø–ª–∞–Ω–µ—Ç–µ. –û–∫–∞–º–µ–Ω–µ–ª–æ—Å—Ç–∏ —Ç–∞–∫–æ–≥–æ –ø–∏–Ω–≥–≤–∏–Ω–∞, –∫–æ—Ç–æ—Ä–æ–≥–æ –ø–æ–∑–∂–µ –æ—Ç–Ω–µ—Å–ª–∏ –∫ –Ω–æ–≤–æ–º—É –≤–∏–¥—É Kumimanu biceae, –±—ã–ª–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã –ø—Ä–∏ —Ä–∞—Å–∫–æ–ø–∫–∞—Ö –≤ –ù–æ–≤–æ–π –ó–µ–ª–∞–Ω–¥–∏–∏. –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ, —á—Ç–æ Kumimanu –æ–±–∏—Ç–∞–ª –Ω–∞ –ó–µ–º–ª–µ –æ–∫–æ–ª–æ 55-59 –º–ª–Ω –ª–µ—Ç –Ω–∞–∑–∞–¥ ‚Äî —É–∂–µ –ø–æ—Å–ª–µ –Ω–∞—á–∞–ª–∞ –≤—ã–º–∏—Ä–∞–Ω–∏—è –¥–∏–Ω–æ–∑–∞–≤—Ä–æ–≤. –û–∫–∞–º–µ–Ω–µ–ª—ã–µ –æ—Å—Ç–∞–Ω–∫–∏ –ø–∏–Ω–≥–≤–∏–Ω–∞ –¥–∞—é—Ç –æ—Å–Ω–æ–≤–∞–Ω–∏—è –ø–æ–ª–∞–≥–∞—Ç—å, —á—Ç–æ –µ–≥–æ —Ç–µ–ª–æ –¥–æ—Å—Ç–∏–≥–∞–ª–æ –≤ –¥–ª–∏–Ω—É 175 —Å–º. –í—Ä—è–¥ –ª–∏ —É—á–µ–Ω—ã–º –ø–æ–ø–∞–ª–∞—Å—å —Å–∞–º–∞—è –∫—Ä—É–ø–Ω–∞—è –æ—Å–æ–±—å –¥–∞–Ω–Ω–æ–≥–æ –≤–∏–¥–∞, –ø–æ—ç—Ç–æ–º—É –º–æ–∂–Ω–æ –ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏—Ç—å, —á—Ç–æ –ø–∏–Ω–≥–≤–∏–Ω—ã-–≥–∏–≥–∞–Ω—Ç—ã –¥–æ—Å—Ç–∏–≥–∞–ª–∏ –¥–ª–∏–Ω—ã –∏ –≤ 180 —Å–º ‚Äî —Å—Ä–µ–¥–Ω–µ—Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–π —Ä–æ—Å—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –º—É–∂—á–∏–Ω—ã.',
    '3ad7e1a0-3a7e-4891-b3ea-b0c1c2ab64f5',
    'Olenka@mail.ru'
);

INSERT INTO authors (email, login)
VALUES (
    'Kira@mail.ru',
    'Kira'
);

INSERT INTO posts (title, description, content, post_id, auth_email)
VALUES (
    '–ü–∞—Ä–∏–∂—Å–∫–∏–π —Å–∏–Ω–¥—Ä–æ–º',
    '–ü–∞—Ä–∏–∂—Å–∫–∏–π —Å–∏–Ω–¥—Ä–æ–º ‚Äî –∫–æ–≥–¥–∞ –≥–æ—Ä–æ–¥ –≤–ª—é–±–ª–µ–Ω–Ω—ã—Ö –Ω–µ –æ–ø—Ä–∞–≤–¥—ã–≤–∞–µ—Ç –æ–∂–∏–¥–∞–Ω–∏–π',
    '–ü–∞—Ä–∏–∂ ‚Äî –≥–æ—Ä–æ–¥-–º–µ—á—Ç–∞, –Ω–∞ –∏–¥–µ–∞–ª—å–Ω–æ —á–∏—Å—Ç—ã—Ö —É–ª–∏—Ü–∞—Ö –∫–æ—Ç–æ—Ä–æ–≥–æ –ø–∞—Ö–Ω–µ—Ç —Å–≤–µ–∂–µ–∏—Å–ø–µ—á–µ–Ω–Ω—ã–º–∏ –∫—Ä—É–∞—Å—Å–∞–Ω–∞–º–∏, –∞ –ø—Ä–æ—Ö–æ–∂–∏–µ –±–ª–∞–≥–æ–¥—É—à–Ω–æ –ø–æ—è–≤–ª—è—é—Ç—Å—è –ø—Ä–∏ –æ–¥–Ω–æ–º –ª–∏—à—å –≤–∞—à–µ–º –ø–æ—è–≤–ª–µ–Ω–∏–∏. –ü–æ –∫—Ä–∞–π–Ω–µ–π –º–µ—Ä–µ, –∏–º–µ–Ω–Ω–æ —Ç–∞–∫—É—é —É—Ç–æ–ø–∏—á–µ—Å–∫—É—é –∫–∞—Ä—Ç–∏–Ω—É –æ —Å—Ç–æ–ª–∏—Ü–µ –§—Ä–∞–Ω—Ü–∏–∏ —Ä–∏—Å—É–µ—Ç –Ω–∞–º –º–∞—Å—Å–æ–≤–∞—è –∫—É–ª—å—Ç—É—Ä–∞. –ù–æ —á–∞—â–µ –≤—Å–µ–≥–æ –ø—Ä–∏–µ–∑–∂–∞—é—â–∏–π —Ç—É—Ä–∏—Å—Ç —Å—Ç–∞–ª–∫–∏–≤–∞–µ—Ç—Å—è —Å —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –∏–Ω–æ–π –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é ‚Äî –∫—Ä—É–ø–Ω—ã–π –≥–æ—Ä–æ–¥ —Å–ø–µ—à–∏—Ç –ø–æ —Å–≤–æ–∏–º –¥–µ–ª–∞–º, –ø–æ —É–ª–∏—Ü–∞–º –ª–µ—Ç–∞—é—Ç –∫–ª—É–±—ã –ø—ã–ª–∏, –∞ –≤–æ–∫—Ä—É–≥ –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π —Å—Ç–æ—è—Ç —Ç–æ–ª–ø—ã –Ω–∞–∑–æ–π–ª–∏–≤—ã—Ö –ø—Ä–æ–¥–∞–≤—Ü–æ–≤ —Å—É–≤–µ–Ω–∏—Ä–æ–≤. –ú–Ω–æ–≥–∏—Ö –ª—é–¥–µ–π, —É –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ –æ–ø—Ä–∞–≤–¥–∞–ª–∏—Å—å –æ–∂–∏–¥–∞–Ω–∏—è, –æ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –¥–µ–ø—Ä–µ—Å—Å–∏—è. –†–∞–∑–æ—á–∞—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç—É—Ä–∏—Å—Ç—ã –±—ã–≤–∞—é—Ç –Ω–∞—Å—Ç–æ–ª—å–∫–æ —à–æ–∫–∏—Ä–æ–≤–∞–Ω—ã, —á—Ç–æ –∏–º —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–º–æ—â—å –ø—Å–∏—Ö–∏–∞—Ç—Ä–∞. –ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ, —á—Ç–æ –ø–æ–¥–æ–±–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —á–∞—â–µ –≤—Å–µ–≥–æ –Ω–∞–±–ª—é–¥–∞—é—Ç—Å—è —É –∂–∏—Ç–µ–ª–µ–π –∞–∑–∏–∞—Ç—Å–∫–∏—Ö —Å—Ç—Ä–∞–Ω, –∫–æ—Ç–æ—Ä—ã–µ –≤–ø–µ—Ä–≤—ã–µ –ø—Ä–∏–µ–∑–∂–∞—é—Ç –≤ –¥—Ä—É–≥—É—é –∫—É–ª—å—Ç—É—Ä–Ω—É—é —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å, –≤ —Å–≤–æ–∏—Ö —Ñ–∞–Ω—Ç–∞–∑–∏—è—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—è –µ–µ —Å–æ–≤—Å–µ–º –∏–Ω–∞—á–µ. –°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—ã, –≤—Å–µ —á–∞—â–µ –Ω–∞–±–ª—é–¥–∞—è —Ç–∞–∫–∏–µ —Ä–∞—Å—Å—Ç—Ä–æ–π—Å—Ç–≤–∞, –¥–∞–∂–µ –ø—Ä–∏–¥—É–º–∞–ª–∏ –¥–ª—è –Ω–∏—Ö —Ç–µ—Ä–º–∏–Ω: ¬´–ø–∞—Ä–∏–∂—Å–∫–∏–π —Å–∏–Ω–¥—Ä–æ–º¬ª. –í–ø–µ—Ä–≤—ã–µ –µ–≥–æ –≤–≤–µ–ª –≤ —É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –≤ 1986 –≥–æ–¥—É —è–ø–æ–Ω—Å–∫–∏–π –ø—Å–∏—Ö–∏–∞—Ç—Ä –•–∏—Ä–æ–∞–∫–∏ –û—Ç–æ–π, –æ—Å–º–∞—Ç—Ä–∏–≤–∞—è —Å–≤–æ–µ–≥–æ –≥—Ä—É—Å—Ç–Ω–æ–≥–æ —Å–æ–æ—Ç–µ—á–µ—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞, –ø–æ–±—ã–≤–∞–≤—à–µ–≥–æ.–≤ —Å—Ç–æ–ª–∏—Ü–µ –§—Ä–∞–Ω—Ü–∏–∏. –ï–∂–µ–≥–æ–¥–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–µ—Å—è—Ç–∫–æ–≤ —Ç—É—Ä–∏—Å—Ç–æ–≤ –∑–∞–±–æ–ª–µ–≤–∞—é—Ç –ø–∞—Ä–∏–∂—Å–∫–∏–º —Å–∏–Ω–¥—Ä–æ–º–æ–º –∏ –ª–∏—à—å –ø–æ—Å–ª–µ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–π —Ç–µ—Ä–∞–ø–∏–∏ –æ–Ω–∏ –≤–Ω–æ–≤—å –ø—Ä–∏—Ö–æ–¥—è—Ç –≤ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ.',
    'f0013854-ef1f-40a9-bbf0-1349a643871d',
    'Kira@mail.ru'
);

INSERT INTO commenters (email, login)
VALUES (
    'Olenka@mail.ru',
    'Olenka'
);

INSERT INTO commenters (email, login)
VALUES (
    'Kira@mail.ru',
    'Kira'
);

INSERT INTO commenters (email, login)
VALUES (
    'Polina@mail.ru',
    'Polina'
);

INSERT INTO comments (text, comment_id, post_id, commenter_email)
VALUES (
    '–ú–Ω–µ –æ—á–µ–Ω—å –ø–æ–Ω—Ä–∞–≤–∏–ª–∞—Å—å –¥–∞–Ω–Ω–∞—è —Å—Ç–∞—Ç—å—è, —Å–ø–∞—Å–∏–±–æ –∞–≤—Ç–æ—Ä—É! –ù–∞–¥–µ—é—Å—å, –≤—ã –Ω–∞–ø–∏—à–µ—Ç–µ –µ—â–µ –ø–∞—Ä–æ—á–∫—É —Å—Ç–∞—Ç–µ–π, –±—ã–ª–æ –±—ã –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ –∏–∑—É—á–∏—Ç—å –∫—É–ª—å—Ç—É—Ä—É –¥—Ä—É–≥–∏—Ö —Å—Ç—Ä–∞–Ω!! üòÄ',
    'e895d80c-c0c4-42c4-8730-6faae51905bf',
    'f0013854-ef1f-40a9-bbf0-1349a643871d',
    'Polina@mail.ru'
);

INSERT INTO comments (text, comment_id, post_id, commenter_email)
VALUES (
    '–û–≥–æ! ü´¢',
    'de8b1c21-9eef-4e82-a80f-c63ff3bc92b7',
    '3ad7e1a0-3a7e-4891-b3ea-b0c1c2ab64f5',
    'Kira@mail.ru'
);

INSERT INTO comments (text, comment_id, post_id, commenter_email)
VALUES (
    '–ë—ã–ª–æ –±—ã –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–∞—Ä—Ç–∏–Ω–∫–∏!',
    '500ca845-caab-41e7-bd75-b31cb3afb307',
    '3ad7e1a0-3a7e-4891-b3ea-b0c1c2ab64f5',
    'Polina@mail.ru'
);